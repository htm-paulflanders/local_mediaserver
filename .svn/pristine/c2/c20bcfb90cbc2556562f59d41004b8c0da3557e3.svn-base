YUI.add("moodle-local_mediaserver-guide",function(e,t){M.local_mediaserver=M.local_mediaserver||{};var n="Guide",r=".guide-channel li:not(.icon) a",i;i=function(){i.superclass.constructor.apply(this,arguments)},e.extend(i,e.Base,{SELECTORS:{POPUP:"program-hover"},CSS:{POPUP:"small-text"},popup:null,timer:null,initializer:function(){var t=e.one("body");this.popup=t.one("#"+this.SELECTORS.POPUP),this.popup||(this.popup=e.Node.create("<div />").setAttrs({id:this.SELECTORS.POPUP,hidden:"hidden"}).addClass(this.CSS.POPUP),this.popup.on("mouseleave",this.leave,this),t.append(this.popup)),t.delegate("hover",this.hover,this.leave,this.get("selector"),this)},hover:function(t){var n=t.target,r=n.getXY(),i=e.JSON.parse(n.getData("program"));e.Lang.isNull(this.timer)||(this.timer.cancel(),this.timer=null),this.popup.setStyle("left",parseInt(r[0],10)+10+"px"),this.popup.setStyle("top",parseInt(r[1],10)+16+"px"),this.popup.setContent(i.time+"<br />"+i.description),this.popup.show(),this.popup.set("scrollTop",0)},leave:function(t){var n=[t.pageX,t.pageY],r=this.popup.get("region");if(n[0]>=r.left&&n[0]<=r.right&&n[1]>=r.top&&n[1]<=r.bottom)return;this.timer=this.timer||e.later(300,this,function(){return this.popup.hide()})}},{NAME:n,ATTRS:{selector:{validator:e.Lang.isString,value:r}}}),M.local_mediaserver.guide=function(e){return new i(e)}},"@VERSION@",{requires:["base","node","node-event-delegate","event-hover","json-parse"]});
