define(["jquery","core/config"],function(a,b){var c={POPUP:'[data-role="calendar-popup"]',MONTH:'select[name="monthselect"] option:checked',YEAR:'select[name="yearselect"] option:checked',BUTTON:'input[type="button"]'},d=null,e=/([?&]t=)[\d]+/i,f=function(b){var c=a(b.target).offset();b.preventDefault(),d.css({left:c.left-100,top:c.top+20}),d.toggle(),b.stopPropagation()},g=function(b){var e=a(b.target);0===e.closest(c.POPUP).length&&d.hide()},h=function(a){var f=d.find(c.MONTH).val(),g=d.find(c.YEAR).val(),h=new Date(g,f-1,1),i=Math.round(h.getTime()/1e3),j=a.data.value;a.preventDefault(),window.location.href=b.wwwroot+j.replace(e,"$1"+i)};return{init:function(b,e){a("#"+b).on("click",f),a("body").on("click",g),d=a(c.POPUP),d.find(c.BUTTON).on("click",{value:e},h)}}});