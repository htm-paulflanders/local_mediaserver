YUI.add("moodle-local_mediaserver-guide",function(e,t){M.local_mediaserver=M.local_mediaserver||{};var n="Guide",r=".guide-channel li:not(.icon) a",i;i=function(){i.superclass.constructor.apply(this,arguments)},e.extend(i,e.Base,{SELECTORS:{POPUP:"program-hover"},CSS:{POPUP:"small-text"},popup:null,initializer:function(){var t=e.one("body");this.popup=t.one("#"+this.SELECTORS.POPUP),this.popup||(this.popup=e.Node.create("<div />").setAttrs({id:this.SELECTORS.POPUP,hidden:"hidden"}).addClass(this.CSS.POPUP),this.popup.on("mouseleave",this.leave,this),t.append(this.popup)),t.delegate("hover",this.hover,this.leave,this.get("selector"),this)},hover:function(t){var n=t.target,r=n.getXY(),i=e.JSON.parse(n.getData("program"));this.popup.setStyle("left",parseInt(r[0],10)+14+"px"),this.popup.setStyle("top",parseInt(r[1],10)+20+"px"),this.popup.setContent(i.time+"<br />"+i.description),this.popup.show()},leave:function(e){var t=[e.pageX,e.pageY],n=this.popup.get("region");if(t[0]>=n.left&&t[0]<=n.right&&t[1]>=n.top&&t[1]<=n.bottom)return;this.popup.hide()}},{NAME:n,ATTRS:{selector:{validator:e.Lang.isString,value:r}}}),M.local_mediaserver.guide=function(e){return new i(e)}},"@VERSION@",{requires:["base","node","node-event-delegate","event-hover","json-parse"]});
